<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Thuto's Advanced Betting Tips</title>

  <!-- React 18 UMD -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Recharts -->
  <script src="https://cdn.jsdelivr.net/npm/recharts/umd/Recharts.min.js"></script>

  <style>
    :root {
      --brand-blue: #0B3D91;
      --brand-orange: #FF7A00;
      --muted: #6B7280;
    }
    .brand-blue { background-color: var(--brand-blue); color: white; }
    .brand-blue-text { color: var(--brand-blue); }
    .brand-orange { background-color: var(--brand-orange); color: white; }
    .card { box-shadow: 0 6px 18px rgba(8,20,50,0.06); border-radius: 12px; }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">
  <div id="root" class="p-4"></div>

  <script>
    const { createElement: h, useState, useEffect, useMemo } = React;
    const { createRoot } = ReactDOM;
    const { LineChart, Line, XAxis, YAxis, Tooltip, CartesianGrid } = window.Recharts;

    const API_PROVIDER = 'the-odds-api';
    const TARGET_ODDS_MAX = 1.25;

    const MOCK_SUGGESTIONS = [
      { id:1, match:"Arsenal vs Chelsea", league:"Premier League", date:"2025-09-28", time:"15:00", market:"Double Chance (1X)", odds:1.22, confidence:"High", reasoning:"Home xG advantage", betwayLink:"https://www.betway.com", oddsTrend:[1.25,1.22,1.20] },
      { id:2, match:"Bayern vs Dortmund", league:"Bundesliga", date:"2025-09-28", time:"18:30", market:"Over 2.5 Goals", odds:1.19, confidence:"Medium-High", reasoning:"High scoring fixture", betwayLink:"https://www.betway.com", oddsTrend:[1.21,1.20,1.19] },
      { id:3, match:"Real Madrid vs Valencia", league:"La Liga", date:"2025-09-28", time:"20:00", market:"Home Win", odds:1.18, confidence:"High", reasoning:"Real strong at home", betwayLink:"https://www.betway.com", oddsTrend:[1.20,1.19,1.18] },
    ];

    function formatOdds(o) { return Number(o).toFixed(2); }

    function App() {
      const [suggestions,setSuggestions] = useState(MOCK_SUGGESTIONS);
      const [loading,setLoading] = useState(false);
      const [error,setError] = useState(null);

      const [query,setQuery] = useState('');
      const [leagueFilter,setLeagueFilter] = useState('All');
      const [selectedMarket,setSelectedMarket] = useState('Any');
      const [maxOdds,setMaxOdds] = useState(TARGET_ODDS_MAX);

      const leagues = useMemo(() => {
        const s = new Set(suggestions.map(s=>s.league));
        return ['All', ...Array.from(s)];
      }, [suggestions]);

      const filtered = suggestions.filter(s => {
        if(leagueFilter!=='All' && s.league!==leagueFilter) return false;
        if(selectedMarket!=='Any' && !s.market.toLowerCase().includes(selectedMarket.toLowerCase())) return false;
        if(query && !(`${s.match} ${s.league}`).toLowerCase().includes(query.toLowerCase())) return false;
        if(maxOdds && Number(s.odds) > Number(maxOdds)) return false;
        return true;
      });

      const stats = useMemo(() => {
        const total = suggestions.length;
        const avgOdds = suggestions.reduce((a,b)=>a+Number(b.odds||0),0)/Math.max(total,1);
        const profitable = suggestions.filter(s=>Number(s.odds)<=1.2).length;
        return { total, avgOdds:avgOdds.toFixed(2), profitable };
      }, [suggestions]);

      return h('div', {className:'max-w-6xl mx-auto'},
        // Header
        h('header', {className:'brand-blue p-4 rounded-lg card'},
          h('div',{className:'flex items-center justify-between'},
            h('div',{},
              h('h1',{className:'text-2xl font-bold'},"Thuto's Advanced Betting Tips"),
              h('p',{className:'text-sm opacity-90'},"Handicap, Double Chance, Over/Under — filter and explore!")
            ),
            h('div',{className:'text-right'},
              h('button',{className:'brand-orange px-3 py-2 rounded font-semibold', onClick:()=>setSuggestions(MOCK_SUGGESTIONS)}, "Refresh Live Odds"),
              h('div',{className:'text-xs mt-1 text-white/80'}, `Provider: ${API_PROVIDER}`)
            )
          )
        ),
        // Main
        h('main', {className:'grid grid-cols-1 lg:grid-cols-3 gap-4 mt-4'},
          // Left section: controls + suggestions
          h('section',{className:'lg:col-span-2 space-y-4'},
            // Filters
            h('div',{className:'card p-4 bg-white'},
              h('div',{className:'flex gap-2 flex-col md:flex-row md:items-center'},
                h('input',{placeholder:'Search match or team...', className:'flex-1 border p-2 rounded', value:query, onChange:e=>setQuery(e.target.value)}),
                h('select',{className:'border p-2 rounded', value:leagueFilter, onChange:e=>setLeagueFilter(e.target.value)},
                  leagues.map(l=>h('option',{key:l,value:l},l))
                ),
                h('select',{className:'border p-2 rounded', value:selectedMarket, onChange:e=>setSelectedMarket(e.target.value)},
                  ['Any','h2h','totals','spreads','Double Chance','Over/Under'].map(m=>h('option',{key:m},m))
                ),
                h('div',{className:'flex items-center gap-2'},
                  h('label',{className:'text-sm'},"Max Odds"),
                  h('input',{type:'range', min:1.01, max:2.50, step:0.01, value:maxOdds, onChange:e=>setMaxOdds(e.target.value)}),
                  h('div',{className:'w-16 text-right'}, Number(maxOdds).toFixed(2))
                )
              )
            ),
            // Suggestions
            h('div',{className:'space-y-3'},
              filtered.length===0 && h('div',{className:'p-4 card bg-white'},"No suggestions match your filters."),
              filtered.map(s => h('div',{key:s.id,className:'p-4 card bg-white flex flex-col md:flex-row justify-between items-start gap-4'},
                h('div',{className:'flex-1'},
                  h('div',{className:'flex items-baseline gap-2'},
                    h('h3',{className:'text-lg font-semibold'}, s.match),
                    h('span',{className:'text-sm text-muted'}, s.league)
                  ),
                  h('div',{className:'text-sm text-gray-600'}, `${s.date} ${s.time} • ${s.market}`),
                  h('p',{className:'mt-2'}, s.reasoning)
                ),
                h('div',{className:'text-right flex flex-col items-end gap-2'},
                  h('div',{className:'text-xl font-bold brand-blue-text'}, formatOdds(s.odds)),
                  h('a',{className:'inline-block brand-orange px-3 py-1 rounded text-sm', href:s.betwayLink, target:'_blank'}, "Bet on Betway"),
                  h(LineChart,{width:200,height:80,data:s.oddsTrend.map((v,i)=>({name:i,odds:v}))},
                    h(XAxis,{hide:true,dataKey:'name'}),
                    h(YAxis,{hide:true,domain:['dataMin','dataMax']}),
                    h(Tooltip,{formatter:val=>formatOdds(val)}),
                    h(Line,{type:'monotone',dataKey:'odds',stroke:'#FF7A00',strokeWidth:2,dot:false}),
                    h(CartesianGrid,{stroke:'#eee',strokeDasharray:'3 3'})
                  )
                )
              ))
            )
          ),
          // Right section: stats
          h('aside',{className:'space-y-4'},
            h('div',{className:'card p-4 bg-white'},
              h('h4',{className:'font-semibold'},"Quick Stats"),
              h('p',{className:'mt-2 text-sm text-gray-700'}, `Total suggestions: `, h('strong',{}, stats.total)),
              h('p',{className:'text-sm text-gray-700'}, `Avg odds: `, h('strong',{}, stats.avgOdds)),
              h('p',{className:'text-sm text-gray-700'}, `Odds ≤ 1.20: `, h('strong',{}, stats.profitable))
            ),
            h('div',{className:'card p-4 bg-white'},
              h('h4',{className:'font-semibold'},"Share"),
              h('p',{className:'text-sm text-gray-600'},"Copy this page URL and share with followers."),
              h('button',{className:'mt-2 border rounded px-3 py-1', onClick:()=>navigator.clipboard?.writeText(window.location.href)}, "Copy Link")
            )
          )
        ),
        // Footer
        h('footer',{className:'text-center text-sm text-gray-500 mt-6 mb-6'},
          h('div',{}, `Data provider: ${API_PROVIDER}. Mock data used.`),
          h('div',{className:'mt-2'},"Powered by Thuto — use responsibly. Betting involves risk.")
        )
      );
    }

    document.addEventListener('DOMContentLoaded', () => {
      const root = createRoot(document.getElementById('root'));
      root.render(h(App));
    });
  </script>
</body>
</html>



